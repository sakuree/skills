# 增量导入成员接口调试

URL: https://hc.jiandaoyun.com/open/18514

## 1. 简介

### 1.1 接口简介

本接口以企业内的 username（成员编号）为主键，更新创建企业成员。（仅支持公共模式）

### 1.2 接口版本

|  |  |  |
| --- | --- | --- |
| **接口版本** | **更新时间** | **版本说明** |
| v1 | 2018.12.4 | 使用 \_id 作为 id |
| v2 | 2019.6.21 | 使用 username 作为 id |
| v4 | 2022.6.30 | 返回值新增字段 type、status、integrate\_id |
| v5 | 2022.10.28 | 在 v4 的基础上，接口请求频率由 5 次/秒提升至 10 次/秒；  接口路由修改为 POST corp/user/import |

## 2. 接口调用

本接口以企业内的 username（成员编号）为主键，更新创建企业成员。（仅支持公共模式）

**请求地址：**https://api.jiandaoyun.com/api/v5/corp/user/import

**请求频率：**10 次/秒

**请求方式：**POST

**注意事项：**

1. 成员编号在企业内唯一，仅支持由字母、数字、下划线组成；
2. 成员昵称最长为 80 个字符；
3. 所有成员必须在部门下，如果导入成员不存在部门，则会移动到根部门下；
4. 通过该接口导入的成员会自动激活，且没有邮箱、密码、手机号等信息，可以配合 [单点登录](https://hc.jiandaoyun.com/open/11433) 功能实现企业用户登录；
5. 如果导入数据存在，但是现有企业通讯录中不存在该成员，则新建成员；
6. 如果导入数据存在，且现有企业通讯录中存在该成员，则更新成员信息；
7. 该接口不会执行删除成员操作；
8. 该接口每次调用允许导入的成员数为 20000；
9. 该接口调用执行期间，将无法同时调用其他对通讯录的修改、删除、新增接口。

**请求参数：**

|  |  |  |  |
| --- | --- | --- | --- |
| **参数** | **是否必需** | **类型** | **说明** |
| users | 是 | Json[] | 成员列表 |
| users[].username | 是 | String | 成员编号 |
| users[].name | 是 | String | 昵称 |
| users[].departments | 是 | Number[] | 所在部门编号列表 |

**请求示例：**

```
{
    "users": [{
        "username": "coding_master",
        "name": "小简",
        "departments": [1, 3]
    }]
}
```

**响应内容：**

|  |  |  |
| --- | --- | --- |
| **参数** | **类型** | **说明** |
| status | String | 返回请求结果 |

**响应示例：**

```
{
    "status": "success"
}
```